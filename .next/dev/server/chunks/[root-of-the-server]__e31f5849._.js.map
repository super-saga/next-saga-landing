{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///Users/dedekrnwan/Documents/works/saga/next-saga-landing-v2/src/lib/calendar.ts"],"sourcesContent":["import { google } from \"googleapis\"\n\n// Mock implementation if credentials are missing\nexport const createCalendarEvent = async (\n  name: string,\n  email: string,\n  date: string,\n  description: string\n) => {\n  console.log(\"Creating calendar event for:\", { name, email, date, description })\n  \n  if (!process.env.GOOGLE_CLIENT_EMAIL || !process.env.GOOGLE_PRIVATE_KEY) {\n    console.warn(\"Google Calendar credentials missing. Using mock.\")\n    return { id: \"mock-event-id\", status: \"confirmed\" }\n  }\n\n  try {\n    const auth = new google.auth.JWT(\n      process.env.GOOGLE_CLIENT_EMAIL,\n      undefined,\n      process.env.GOOGLE_PRIVATE_KEY.replace(/\\\\n/g, \"\\n\"),\n      [\"https://www.googleapis.com/auth/calendar\"]\n    )\n\n    const calendar = google.calendar({ version: \"v3\", auth })\n\n    const event = {\n      summary: `Demo Request: ${name}`,\n      description: `Request from ${email}.\\n\\nNotes: ${description}`,\n      start: {\n        dateTime: new Date(date).toISOString(),\n      },\n      end: {\n        dateTime: new Date(new Date(date).getTime() + 60 * 60 * 1000).toISOString(), // 1 hour\n      },\n      attendees: [{ email }],\n    }\n\n    const res = await calendar.events.insert({\n      calendarId: \"primary\",\n      requestBody: event,\n    })\n\n    return res.data\n  } catch (error) {\n    console.error(\"Google Calendar Error:\", error)\n    // Fallback to mock success so user doesn't see error\n    return { id: \"mock-event-id-fallback\", status: \"confirmed\" }\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,sBAAsB,OACjC,MACA,OACA,MACA;IAEA,QAAQ,GAAG,CAAC,gCAAgC;QAAE;QAAM;QAAO;QAAM;IAAY;IAE7E,IAAI,CAAC,QAAQ,GAAG,CAAC,mBAAmB,IAAI,CAAC,QAAQ,GAAG,CAAC,kBAAkB,EAAE;QACvE,QAAQ,IAAI,CAAC;QACb,OAAO;YAAE,IAAI;YAAiB,QAAQ;QAAY;IACpD;IAEA,IAAI;QACF,MAAM,OAAO,IAAI,+JAAM,CAAC,IAAI,CAAC,GAAG,CAC9B,QAAQ,GAAG,CAAC,mBAAmB,EAC/B,WACA,QAAQ,GAAG,CAAC,kBAAkB,CAAC,OAAO,CAAC,QAAQ,OAC/C;YAAC;SAA2C;QAG9C,MAAM,WAAW,+JAAM,CAAC,QAAQ,CAAC;YAAE,SAAS;YAAM;QAAK;QAEvD,MAAM,QAAQ;YACZ,SAAS,CAAC,cAAc,EAAE,MAAM;YAChC,aAAa,CAAC,aAAa,EAAE,MAAM,YAAY,EAAE,aAAa;YAC9D,OAAO;gBACL,UAAU,IAAI,KAAK,MAAM,WAAW;YACtC;YACA,KAAK;gBACH,UAAU,IAAI,KAAK,IAAI,KAAK,MAAM,OAAO,KAAK,KAAK,KAAK,MAAM,WAAW;YAC3E;YACA,WAAW;gBAAC;oBAAE;gBAAM;aAAE;QACxB;QAEA,MAAM,MAAM,MAAM,SAAS,MAAM,CAAC,MAAM,CAAC;YACvC,YAAY;YACZ,aAAa;QACf;QAEA,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,qDAAqD;QACrD,OAAO;YAAE,IAAI;YAA0B,QAAQ;QAAY;IAC7D;AACF"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///Users/dedekrnwan/Documents/works/saga/next-saga-landing-v2/src/lib/email.ts"],"sourcesContent":["import nodemailer from \"nodemailer\"\n\nexport const sendDemoRequestEmail = async (data: {\n  name: string\n  email: string\n  phone: string\n  company: string\n  date: string\n  message: string\n}) => {\n  console.log(\"Sending email to demo@saga.co.id:\", data)\n\n  if (!process.env.SMTP_HOST) {\n    console.warn(\"SMTP credentials missing. Using mock.\")\n    return true\n  }\n\n  const transporter = nodemailer.createTransport({\n    host: process.env.SMTP_HOST,\n    port: Number(process.env.SMTP_PORT) || 587,\n    secure: false,\n    auth: {\n      user: process.env.SMTP_USER,\n      pass: process.env.SMTP_PASS,\n    },\n  })\n\n  await transporter.sendMail({\n    from: '\"Sahabat Warga\" <no-reply@saga.co.id>',\n    to: \"demo@saga.co.id\",\n    subject: `New Demo Request: ${data.name}`,\n    text: `\n      Name: ${data.name}\n      Email: ${data.email}\n      Phone: ${data.phone}\n      Company: ${data.company}\n      Preferred Date: ${data.date}\n      Message: ${data.message}\n    `,\n  })\n\n  return true\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,uBAAuB,OAAO;IAQzC,QAAQ,GAAG,CAAC,qCAAqC;IAEjD,IAAI,CAAC,QAAQ,GAAG,CAAC,SAAS,EAAE;QAC1B,QAAQ,IAAI,CAAC;QACb,OAAO;IACT;IAEA,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;QAC7C,MAAM,QAAQ,GAAG,CAAC,SAAS;QAC3B,MAAM,OAAO,QAAQ,GAAG,CAAC,SAAS,KAAK;QACvC,QAAQ;QACR,MAAM;YACJ,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;QAC7B;IACF;IAEA,MAAM,YAAY,QAAQ,CAAC;QACzB,MAAM;QACN,IAAI;QACJ,SAAS,CAAC,kBAAkB,EAAE,KAAK,IAAI,EAAE;QACzC,MAAM,CAAC;YACC,EAAE,KAAK,IAAI,CAAC;aACX,EAAE,KAAK,KAAK,CAAC;aACb,EAAE,KAAK,KAAK,CAAC;eACX,EAAE,KAAK,OAAO,CAAC;sBACR,EAAE,KAAK,IAAI,CAAC;eACnB,EAAE,KAAK,OAAO,CAAC;IAC1B,CAAC;IACH;IAEA,OAAO;AACT"}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file:///Users/dedekrnwan/Documents/works/saga/next-saga-landing-v2/src/app/api/demo/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport { createCalendarEvent } from \"@/lib/calendar\"\nimport { sendDemoRequestEmail } from \"@/lib/email\"\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json()\n    const { name, email, phone, company, date, message } = body\n\n    if (!name || !email || !date) {\n      return NextResponse.json(\n        { error: \"Name, email, and date are required\" },\n        { status: 400 }\n      )\n    }\n\n    // Parallel execution for speed\n    await Promise.all([\n      createCalendarEvent(name, email, date, message || \"No notes provided\"),\n      sendDemoRequestEmail({\n        name,\n        email,\n        phone: phone || \"-\",\n        company: company || \"-\",\n        date,\n        message: message || \"-\",\n      }),\n    ])\n\n    return NextResponse.json({ success: true, message: \"Demo request received\" })\n  } catch (error) {\n    console.error(\"Demo API Error:\", error)\n    return NextResponse.json(\n      { error: \"Internal Server Error\" },\n      { status: 500 }\n    )\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG;QAEvD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM;YAC5B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAqC,GAC9C;gBAAE,QAAQ;YAAI;QAElB;QAEA,+BAA+B;QAC/B,MAAM,QAAQ,GAAG,CAAC;YAChB,IAAA,+IAAmB,EAAC,MAAM,OAAO,MAAM,WAAW;YAClD,IAAA,6IAAoB,EAAC;gBACnB;gBACA;gBACA,OAAO,SAAS;gBAChB,SAAS,WAAW;gBACpB;gBACA,SAAS,WAAW;YACtB;SACD;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,SAAS;QAAwB;IAC7E,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}